% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/duration.R
\name{refine_motif_boundaries}
\alias{refine_motif_boundaries}
\title{Refine Motif Boundaries Using Segment Alignment}
\usage{
refine_motif_boundaries(x, adjustments_by_label = NULL, verbose = TRUE)
}
\arguments{
\item{x}{A SAP object containing 'segments' and 'motifs' data}

\item{adjustments_by_label}{Optional named list of time adjustments (in seconds)
to apply to motif end limits, where names correspond to labels}

\item{verbose}{Logical flag for printing progress messages (default: TRUE)}
}
\value{
Returns a modified SAP object with updated motifs containing:
\itemize{
\item motif_onset - Precise start time based on segments
\item motif_offset - Precise end time based on segments
\item first_seg_index - First segment index in motif
\item last_seg_index - Last segment index in motif
\item motif_duration - Calculated motif duration
}
}
\description{
Adjusts motif boundaries based on underlying segments and optional label-specific
time adjustments. Integrates segment information to determine precise motif
onsets/offsets.
}
\details{
Key operations:
\enumerate{
\item Applies label-specific time adjustments to motif end limits
\item Identifies segments contained within adjusted motif boundaries
\item Calculates precise motif timing based on contained segments
\item Preserves original motif structure while adding new timing columns
}
}
\examples{
\dontrun{
# Apply 0.1s extension to "BL" motifs
sap <- refine_motif_boundaries(
  sap,
  adjustments_by_label = list(BL = 0.1)
)
}

}
