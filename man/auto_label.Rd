% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/label.R
\name{auto_label}
\alias{auto_label}
\title{Automatic Syllable Labeling in Song Motif}
\usage{
auto_label(
  x,
  eps_time = 0.1,
  eps_umap = 0.6,
  min_pts = 5,
  outlier_threshold = 0.01,
  umap_threshold = 1,
  weight_time = 4,
  ...
)
}
\arguments{
\item{x}{A Sap object containing bird song analysis data}

\item{eps_time}{Epsilon parameter for temporal DBSCAN clustering (default: 0.1)}

\item{eps_umap}{Epsilon parameter for UMAP-based DBSCAN clustering (default: 0.6)}

\item{min_pts}{Minimum points parameter for DBSCAN clustering (default: 5)}

\item{outlier_threshold}{Threshold for removing small clusters (default: 0.01)}

\item{umap_threshold}{Distance threshold for merging similar clusters (default: 1)}

\item{weight_time}{Weight factor for temporal features (default: 4)}

\item{...}{Additional arguments (not currently used)}
}
\value{
Returns the input Sap object with updated syllable clusters in:
x$features$syllable$feat.embeds
}
\description{
Performs two-stage clustering of bird song segments to identify syllables:
\enumerate{
\item Temporal clustering using weighted time and duration features
\item UMAP-based refinement of temporal clusters
Finally merges similar clusters based on UMAP proximity.
}
}
\details{
The function performs clustering in multiple stages:
\enumerate{
\item Temporal Clustering:
\itemize{
\item Combines time position and duration information
\item Uses weighted features (controlled by weight_time):
\itemize{
\item weight_time > 1: Emphasizes temporal position over duration
\item weight_time = 1: Equal weighting
\item weight_time < 1: Emphasizes duration over temporal position
}
}
\item UMAP-based Refinement:
\itemize{
\item Further splits temporal clusters based on UMAP coordinates
\item Helps distinguish syllables with similar timing but different acoustic features
}
\item Cluster Cleaning:
\itemize{
\item Removes small clusters (controlled by outlier_threshold)
\item Merges similar clusters based on UMAP proximity (controlled by umap_threshold)
}
}

Parameter Tuning Guidelines:
\itemize{
\item eps_time: Controls temporal separation sensitivity
\itemize{
\item Smaller values create more temporal splits
\item Typical range: 0.05-0.2
}
\item eps_umap: Controls acoustic feature sensitivity
\itemize{
\item Smaller values create more acoustic splits
\item Typical range: 0.4-0.8
}
\item weight_time: Controls temporal vs duration importance
\itemize{
\item Default (4) weights time 4x more than duration
\item Increase for more temporal separation
\item Decrease for more duration-based separation
}
}
}
\examples{
\dontrun{
# Basic usage with default parameters
sap <- auto_label(sap)

# Emphasize temporal separation
sap <- auto_label(sap,
                 eps_time = 0.08,
                 weight_time = 6)

# More acoustic feature sensitivity
sap <- auto_label(sap,
                 eps_umap = 0.4,
                 min_pts = 3)

# Stricter cluster cleaning
sap <- auto_label(sap,
                 outlier_threshold = 0.02,
                 umap_threshold = 0.8)
}

}
\seealso{
\itemize{
\item manual_label() for manual refinement of automatic clusters
\item plot_cluster() for visualizing clustering results
}
}
