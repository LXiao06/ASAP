<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Automated Sound Analysis Pipeline for Avian Vocalization Research â€¢ ASAP</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Automated Sound Analysis Pipeline for Avian Vocalization Research">
<meta name="description" content="A comprehensive toolkit for longitudinal analysis of birdsong development. ASAP provides an integrated suite of tools for processing, analyzing, and visualizing avian vocalizations, with particular emphasis on zebra finch song recordings from SAP2011. The package implements automated workflows for bout detection, motif extraction, syllable segmentation, template matching, temporal and spectral feature extraction, enabling researchers to track subtle changes in vocal patterns across developmental time points. Through efficient parallel processing and standardized analytical approaches, ASAP facilitates large-scale longitudinal studies of song learning and development, offering researchers powerful tools for quantifying vocal plasticity and investigating the mechanisms of vocal learning in songbirds.">
<meta property="og:description" content="A comprehensive toolkit for longitudinal analysis of birdsong development. ASAP provides an integrated suite of tools for processing, analyzing, and visualizing avian vocalizations, with particular emphasis on zebra finch song recordings from SAP2011. The package implements automated workflows for bout detection, motif extraction, syllable segmentation, template matching, temporal and spectral feature extraction, enabling researchers to track subtle changes in vocal patterns across developmental time points. Through efficient parallel processing and standardized analytical approaches, ASAP facilitates large-scale longitudinal studies of song learning and development, offering researchers powerful tools for quantifying vocal plasticity and investigating the mechanisms of vocal learning in songbirds.">
<meta property="og:image" content="https://lxiao06.github.io/ASAP/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ASAP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="asap-">ASAP 
<a class="anchor" aria-label="anchor" href="#asap-"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>ASAP (Automated Sound Analysis Pipeline) is an R toolkit designed for the longitudinal analysis of birdsong development, specifically optimized for tracking and studying the long-term vocalization patterns of zebra finches.</p>
<p>The pipeline introduces a dedicated SAP object, which streamlines the processing of recordings from the SAP2011 system or other sound data organized with similar structures. Additionally, ASAP is built with flexibility in mind, allowing for the integration of other objects to ensure compatibility with various recording platforms.</p>
<div class="section level3">
<h3 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h3>
<ul>
<li><p><strong>Bout Detection</strong>: Automatically identifies periods of singing within recordings.</p></li>
<li><p><strong>Motif Extraction</strong>: Extracts recurring song motifs for in-depth analysis.</p></li>
<li><p><strong>Syllable Segmentation</strong>: Breaks down songs into individual syllables for detailed study.</p></li>
<li><p><strong>Template Matching</strong>: Compares and matches song patterns against predefined templates.</p></li>
<li><p><strong>Feature Extraction</strong>: Extracts detailed temporal and spectral features from vocalizations.</p></li>
<li><p><strong>Standardized Analytical Workflows</strong>: Utilizes predefined workflows for consistent and efficient analysis.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install ASAP, I recommend using remotes:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"LXiao06/ASAP"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="section level3">
<h3 id="detecting-bout-boundaries-and-syllable-segmentation">Detecting Bout Boundaries and Syllable Segmentation<a class="anchor" aria-label="anchor" href="#detecting-bout-boundaries-and-syllable-segmentation"></a>
</h3>
<p>This example demonstrates how to use functions to detect <strong>bout boundaries</strong> and perform <strong>syllable segmentation</strong> on a single WAV file of a zebra finch recording.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lxiao06.github.io/ASAP/">ASAP</a></span><span class="op">)</span></span>
<span><span class="co"># Get path to example WAV file</span></span>
<span><span class="va">wav_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"zf_example.wav"</span>, package <span class="op">=</span> <span class="st">"ASAP"</span><span class="op">)</span></span>
<span>  </span>
<span><span class="co"># Find bout</span></span>
<span><span class="va">bouts</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/find_bout.html">find_bout</a></span><span class="op">(</span><span class="va">wav_file</span>, rms_threshold<span class="op">=</span> <span class="fl">0.1</span>, min_duration <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-code1-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Segmentation </span></span>
<span><span class="va">syllables</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/segment.html">segment</a></span><span class="op">(</span><span class="va">wav_file</span>, start_time <span class="op">=</span> <span class="fl">1</span>, end_time <span class="op">=</span> <span class="fl">5</span>, flim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>                     silence_threshold <span class="op">=</span> <span class="fl">0.01</span>, min_syllable_ms <span class="op">=</span> <span class="fl">20</span>, </span>
<span>                     max_syllable_ms <span class="op">=</span> <span class="fl">240</span>, min_level_db <span class="op">=</span> <span class="fl">10</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-code1-2.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="standardized-song-analysis-pipeline-for-motif-analysis">Standardized Song Analysis Pipeline for Motif Analysis<a class="anchor" aria-label="anchor" href="#standardized-song-analysis-pipeline-for-motif-analysis"></a>
</h3>
<p>This example demonstrates a <strong>song analysis pipeline</strong> initiated by creating a SAP object, which tracks and visualizes motif changes over time using heatmaps and latent space projections.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create sap object </span></span>
<span><span class="va">sap</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_sap_object.html">create_sap_object</a></span><span class="op">(</span></span>
<span>  base_path <span class="op">=</span> <span class="st">"/path/to/your/wav/file/directory"</span>,</span>
<span>  subfolders_to_include <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"190"</span>, <span class="st">"201"</span>, <span class="st">"203"</span><span class="op">)</span>,</span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BL"</span>, <span class="st">"Post"</span>, <span class="st">"Rec"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># A standardized pipeline for motif analysis</span></span>
<span><span class="va">sap</span> <span class="op">&lt;-</span> <span class="va">sap</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/create_audio_clip.html">create_audio_clip</a></span><span class="op">(</span>indices <span class="op">=</span> <span class="fl">1</span>, start_time <span class="op">=</span> <span class="fl">1</span>, end_time <span class="op">=</span> <span class="fl">2.5</span>,</span>
<span>                    clip_names <span class="op">=</span> <span class="st">"m1"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/create_template.html">create_template</a></span><span class="op">(</span>template_name <span class="op">=</span> <span class="st">"d"</span>, clip_name <span class="op">=</span> <span class="st">"m1"</span>,</span>
<span>                  start_time <span class="op">=</span> <span class="fl">0.72</span>,   end_time <span class="op">=</span>  <span class="fl">0.84</span>,</span>
<span>                  freq_min <span class="op">=</span> <span class="fl">1</span>,  freq_max <span class="op">=</span> <span class="fl">10</span>,</span>
<span>                  threshold <span class="op">=</span> <span class="fl">0.5</span>, write_template <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/detect_template.html">detect_template</a></span><span class="op">(</span>template_name <span class="op">=</span> <span class="st">"d"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/find_motif.html">find_motif</a></span><span class="op">(</span>template_name <span class="op">=</span> <span class="st">"d"</span>, pre_time <span class="op">=</span> <span class="fl">0.7</span>, lag_time <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/analyze_spectral.html">analyze_spectral</a></span><span class="op">(</span>balanced <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/find_clusters.html">find_clusters</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/run_umap.html">run_umap</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/create_trajectory_matrix.html">create_trajectory_matrix</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"feat.embeds"</span>, clusters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, balanced <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/run_pca.html">run_pca</a></span><span class="op">(</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/run_umap.html">run_umap</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"traj_mat"</span>, min_dist <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Visualization</span></span>
<span><span class="va">sap</span> <span class="op">&lt;-</span> <span class="va">sap</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/plot_heatmap.html">plot_heatmap</a></span><span class="op">(</span>balanced <span class="op">=</span> <span class="cn">TRUE</span>, ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/plot_umap.html">plot_umap</a></span><span class="op">(</span>split.by <span class="op">=</span> <span class="st">"label"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/plot_umap2.html">plot_umap2</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"traj.embeds"</span>, overlay_mode <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>             base_label <span class="op">=</span> <span class="st">"BL"</span>, compare_labels <span class="op">=</span><span class="st">"Rec"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/sap_analysis.png" width="100%"></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ASAP</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lei Xiao <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4655-9630" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/LXiao06/ASAP/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/LXiao06/ASAP/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lei Xiao.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
